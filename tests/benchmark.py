import datetime



from aiops.learnware.MachineLearnware import MachineLearnware

resources = ['m_1932', 'm_1933', 'm_1934', 'm_1935', 'm_1936', 'm_1937',
       'm_1938', 'm_1939', 'm_1940', 'm_1941', 'm_1942', 'm_1943',
       'm_1944', 'm_1945', 'm_1946', 'm_1947', 'm_1948', 'm_1949',
       'm_1950', 'm_1951', 'm_1952', 'm_1953', 'm_1954', 'm_1955',
       'm_1956', 'm_1957', 'm_1958', 'm_1959', 'm_1960', 'm_1961',
       'm_1962', 'm_1963', 'm_1964', 'm_1965', 'm_1966', 'm_1967',
       'm_1968', 'm_1969', 'm_1970', 'm_1971', 'm_1972', 'm_1973',
       'm_1974', 'm_1975', 'm_1976', 'm_1977', 'm_1978', 'm_1979',
       'm_1980', 'm_1981', 'm_1982', 'm_1983', 'm_1984', 'm_1985',
       'm_1986', 'm_1987', 'm_1988', 'm_1989', 'm_1990', 'm_1991',
       'm_1992', 'm_1993', 'm_1994', 'm_1995', 'm_1996', 'm_1997',
       'm_1998', 'm_1999', 'm_2000', 'm_2001', 'm_2002', 'm_2003',
       'm_2004', 'm_2005', 'm_2006', 'm_2007', 'm_2008', 'm_2009',
       'm_2010', 'm_2011', 'm_2012', 'm_2013', 'm_2014', 'm_2015',
       'm_2016', 'm_2017', 'm_2018', 'm_2019', 'm_2020', 'm_2021',
       'm_2022', 'm_2023', 'm_2024', 'm_2025', 'm_2026', 'm_2027',
       'm_2028', 'm_2029', 'm_2030', 'm_2031', 'm_2032', 'm_2033',
       'm_2034', 'm_2035', 'm_2036', 'm_2037', 'm_2038', 'm_2039',
       'm_2040', 'm_2041', 'm_2042', 'm_2043', 'm_2044', 'm_2045',
       'm_2046', 'm_2047', 'm_2048', 'm_2049', 'm_2050', 'm_2051',
       'm_2052', 'm_2053', 'm_2054', 'm_2055', 'm_2056', 'm_2057',
       'm_2058', 'm_2059', 'm_2060', 'm_2061', 'm_2062', 'm_2063',
       'm_2064', 'm_2065', 'm_2066', 'm_2067', 'm_2068', 'm_2069',
       'm_2070', 'm_2071', 'm_2072', 'm_2073', 'm_2074', 'm_2075',
       'm_2076', 'm_2077', 'm_2078', 'm_2079', 'm_2080', 'm_2081',
       'm_2082', 'm_2083', 'm_2084', 'm_2085', 'm_2086', 'm_2087',
       'm_2088', 'm_2089', 'm_2090', 'm_2091', 'm_2092', 'm_2093',
       'm_2094', 'm_2095', 'm_2096', 'm_2097', 'm_2098', 'm_2099',
       'm_2100', 'm_2101', 'm_2102', 'm_2103', 'm_2104', 'm_2105',
       'm_2106', 'm_2107', 'm_2108', 'm_2109', 'm_2110', 'm_2111',
       'm_2112', 'm_2113', 'm_2114', 'm_2115', 'm_2116', 'm_2117',
       'm_2118', 'm_2119', 'm_2120', 'm_2121', 'm_2122', 'm_2123',
       'm_2124', 'm_2125', 'm_2126', 'm_2127', 'm_2128', 'm_2129',
       'm_2130', 'm_2131', 'm_2132', 'm_2133', 'm_2134', 'm_2135',
       'm_2136', 'm_2137', 'm_2138', 'm_2139', 'm_2140', 'm_2141',
       'm_2142', 'm_2143', 'm_2144', 'm_2145', 'm_2146', 'm_2147',
       'm_2148', 'm_2149', 'm_2150', 'm_2151', 'm_2152', 'm_2153',
       'm_2154', 'm_2155', 'm_2156', 'm_2157', 'm_2158', 'm_2159',
       'm_2160', 'm_2161', 'm_2162', 'm_2163', 'm_2164', 'm_2165',
       'm_2166', 'm_2167', 'm_2168', 'm_2169', 'm_2170', 'm_2171',
       'm_2172', 'm_2173', 'm_2174', 'm_2175', 'm_2176', 'm_2177',
       'm_2178', 'm_2179', 'm_2180', 'm_2181', 'm_2182', 'm_2183',
       'm_2184', 'm_2185', 'm_2186', 'm_2187', 'm_2188', 'm_2189',
       'm_2190', 'm_2191', 'm_2192', 'm_2193', 'm_2194', 'm_2195',
       'm_2196', 'm_2197', 'm_2198', 'm_2199', 'm_2200', 'm_2201',
       'm_2202', 'm_2203', 'm_2204', 'm_2205', 'm_2206', 'm_2207',
       'm_2208', 'm_2209', 'm_2210', 'm_2211', 'm_2212', 'm_2213',
       'm_2214', 'm_2215', 'm_2216', 'm_2217', 'm_2218', 'm_2219',
       'm_2220', 'm_2221', 'm_2222', 'm_2223', 'm_2224', 'm_2225']

learnware = MachineLearnware()
values = learnware.preprocess_data([["2020-07-20 15:00:00", 20], ["2020-07-20 15:01:00", 80], ["2020-07-20 15:02:00", 90], ["2020-07-20 15:03:00", 87],["2020-07-20 15:04:00", 82]])
start_time = datetime.datetime.now()
i = 0
for resource_name in resources:
    i += 1
    predict = learnware.call("cpu_util_percent", resource_name, values)
    print(i)
    print(resource_name)
    print((datetime.datetime.now()-start_time).seconds)
end_time = datetime.datetime.now()
print("=" * 50)
print((end_time-start_time).seconds)
